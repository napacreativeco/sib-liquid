<div class="colors">
    <div class="color-wrapper">


      {% comment %} 
      1{% for option in product.options_with_values %}
      {% case option.name %}

      {% when 'Color' %}
      {% for value in option.values %}
      {% assign targOpt = value %}
      {{ targOpt | uniq }}
      {% endfor %}

      {% endcase %}
      {% endfor %} {% endcomment %}


      {% comment %} 
      2{% for fabric in shop.metaobjects.fabric_colors.values %}
      {% assign black = fabric.black %}
      <script>console.log({{ black }})</script>
      {% endfor %} {% endcomment %}


      {% comment %}
      3 {% capture 'meta_data' %}
      {% for variant in product.variants.metafields.custom.display_color.values %}
      {{ variant | json }}
      {% unless forloop.last %},{% endunless %}
      {% endfor %}
      {% endcapture %} {% endcomment %}

        {%- for option in product.options_with_values -%}

          {% case option.name %}

          {% when 'Color' %}
            {% for value in option.values %}<div class="color-swatch" style="background-color: {{ product.variants[forloop.index0].metafields.custom.display_color.value | uniq }}"> &nbsp;</div>
          {% endfor %}

        {% endcase %}

      {%- endfor -%}
      </div>
      </div>